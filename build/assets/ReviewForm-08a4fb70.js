import{l as I,m as R,j as e,w as v,r as i,L as U,B as S,x as L,y as g,z as P,A as T,C as q,D as _}from"./index-fd308e45.js";import{T as r}from"./TextField-a9388310.js";import"./List-4ad452a8.js";var c={},k=R;Object.defineProperty(c,"__esModule",{value:!0});var x=c.default=void 0,D=k(I()),E=e,F=(0,D.default)((0,E.jsx)("path",{d:"M2 12c0 5.52 4.48 10 10 10s10-4.48 10-10S17.52 2 12 2 2 6.48 2 12zm10-1h4v2h-4v3l-4-4 4-4v3z"}),"ArrowCircleLeft");x=c.default=F;v(g,"images/");const Y=b=>{const[n,f]=i.useState(null),[z,h]=i.useState([]),[u,o]=i.useState(""),[a,p]=i.useState({review:"",name:"",email:"",stars:"",imgurl:""}),w=()=>{if(n==null)return;const s=v(g,`images/${n.name+L()}`);P(s,n).then(m=>{T(m.ref).then(l=>{h(d=>[...d,l]),o(l)})}),alert("Image Uploaded Successfully")},t=s=>{a[s.target.name]=s.target.value,p({...a,userReview:a})},j=async s=>{const{review:m,name:l,email:d,stars:N,imgurl:C}=a;m&&l&&d&&N&&C&&await q(_(b.db,"reviews"),{review:a.review,name:a.name,email:a.email,stars:a.stars,imgurl:a.imgurl}).catch(function(B){alert("Something went wrong !")})?(p({review:"",name:"",email:"",stars:"",imgurl:""}),alert("Review Submitted Successfully !")):alert("Please fill all details")},y=()=>{navigator.clipboard.writeText(u),alert("Url Copied"),o("")};return e.jsxs("div",{className:"reviewForm container-fluid",children:[e.jsxs(U,{className:"anchor",to:"/",children:[e.jsx(x,{})," Home Page"]}),e.jsx("h1",{className:"reviewTitle",children:"Give Your Valuable Review"}),e.jsxs("div",{className:"uploadImg",children:[e.jsx("span",{className:"mx-3",children:"Upload Your Image"}),e.jsx("input",{type:"file",onChange:s=>{f(s.target.files[0])}}),e.jsx("button",{className:"btn btn-success",onClick:w,children:"Upload Image"})]}),e.jsxs("div",{className:"imgUrl container",children:[e.jsxs("span",{children:[e.jsx("b",{children:"Image Url"})," : ",e.jsx("br",{}),e.jsx("br",{}),e.jsx("div",{className:"url",children:e.jsx("input",{type:"text",className:"w-100",value:u,onChange:s=>{o(s.target.value)}})})]}),e.jsx("button",{onClick:y,className:"btn btn-warning my-2",children:"Copy URL"})]}),e.jsxs("form",{method:"POST",className:"right container",children:[e.jsx(r,{className:"text",id:"standard-basic",label:"Name",variant:"standard",name:"name",value:a.name,onChange:t,color:"secondary",InputLabelProps:{className:"textfield-label"},required:!0,style:{color:"white",marginTop:"10px"}}),e.jsx(r,{id:"standard-basic",label:"Email",variant:"standard",name:"email",value:a.email,onChange:t,color:"secondary",InputLabelProps:{className:"textfield-label"},style:{marginTop:"10px"},type:"email",required:!0}),e.jsx(r,{id:"standard-basic",label:"Review",variant:"standard",name:"review",value:a.review,onChange:t,color:"secondary",InputLabelProps:{className:"textfield-label"},style:{marginTop:"10px"},required:!0}),e.jsx(r,{id:"standard-basic",label:"Stars (Give ratings out of 5)",variant:"standard",name:"stars",type:"number",value:a.stars,onChange:t,color:"secondary",InputLabelProps:{className:"textfield-label"},inputProps:{pattern:"[0-5]"},style:{marginTop:"10px"},required:!0}),e.jsx(r,{id:"standard-basic",label:"Image Url (Paste Image Url from above)",variant:"standard",name:"imgurl",type:"text",value:a.imgurl,onChange:t,color:"secondary",InputLabelProps:{className:"textfield-label"},style:{marginTop:"10px"},required:!0}),e.jsx(S,{type:"submit",onClick:j,href:"#text-buttons",style:{marginTop:"20px"},children:"Submit"})]})]})};export{Y as default};
